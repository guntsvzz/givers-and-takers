<h1>List of Givers</h1>

<% if @givers.any? %>  <!-- Check if there are any givers -->
  <table border="1" cellpadding="5" cellspacing="0">
    <thead>
      <tr>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Organization Name</th>
        <th>Organization Type</th>
      </tr>
    </thead>
    <tbody>
      <% @givers.each do |giver| %>
        <tr>
          <td><%= giver.first_name %></td>
          <td><%= giver.last_name %></td>
          <td><%= giver.organization_name %></td>
          <td><%= User.organization_types.key(giver.read_attribute_before_type_cast(:role).to_i)&.humanize %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p>No givers found.</p>
<% end %>